# 用户注册

+ 先实现最基本的用户注册即`发送用户注册信息`，`读取解析存进数据库`，`返回响应`

## 用户模型

1. 先设计一个用户基本表

   ![](https://repo-1256831547.cos.ap-shanghai.myqcloud.com/image-20221212173519565.png)

2. 利用`sea-orm-cli`来生成用户模型代码

   `.env`

   ```shell
   DATABASE_URL=protocol://postgres:123456@localhost/ava
   ```

   运行命令

   ```shell
   sea-orm-cli generate entity  -o model/src/entity/
   ```

   ![image-20221212203422629](https://repo-1256831547.cos.ap-shanghai.myqcloud.com/image-20221212203422629.png)

   默认生成`public`下面的除`seaql_migrations`表的entity

3. `model/src/entity/user.rs`

   根据表自动生成的代码如下:

   ```rust
   //! `SeaORM` Entity. Generated by sea-orm-codegen 0.10.4
   
   use sea_orm::entity::prelude::*;
   
   #[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]
   #[sea_orm(table_name = "user")]
   pub struct Model {
       #[sea_orm(primary_key, auto_increment = false)]
       pub id: String,
       pub username: String,
       pub phone: String,
       pub email: String,
       pub password: String,
   }
   
   #[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]
   pub enum Relation {}
   
   impl ActiveModelBehavior for ActiveModel {}
   
   ```

   后续我们就可以使用这些生成的代码进行`CRUD`操作







